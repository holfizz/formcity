# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –≤ AI

## –ü—Ä–æ–±–ª–µ–º–∞

AI –æ—Ç–≤–µ—á–∞–ª "–î–∞–Ω–Ω—ã–µ CSV –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã" –≤–º–µ—Å—Ç–æ –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–∞ `/Users/holfizz/Developer/fromcity/data.csv`

## –ü—Ä–∏—á–∏–Ω–∞

–ú–µ—Ç–æ–¥ `formatPropertiesForAI()` –ø–µ—Ä–µ–¥–∞–≤–∞–ª –¥–∞–Ω–Ω—ã–µ –∫–∞–∫ `JSON.stringify()`, —á—Ç–æ –±—ã–ª–æ –Ω–µ—á–∏—Ç–∞–µ–º–æ –¥–ª—è AI

## –†–µ—à–µ–Ω–∏–µ

### 1. –£–ª—É—á—à–µ–Ω –º–µ—Ç–æ–¥ formatPropertiesForAI

**–ë—ã–ª–æ:**

```typescript
private formatPropertiesForAI(properties: PropertyData[]): string {
  return `–ù–∞–π–¥–µ–Ω–æ ${properties.length} –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏:\n` +
         properties.map(prop => JSON.stringify(prop)).join('\n')
}
```

**–°—Ç–∞–ª–æ:**

```typescript
private formatPropertiesForAI(properties: PropertyData[]): string {
  if (properties.length === 0) {
    return '–î–∞–Ω–Ω—ã–µ CSV –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã'
  }

  const formatted = properties.map((prop, index) => {
    const details = []
    if (prop.—Ç–∏–ø) details.push(`–¢–∏–ø: ${prop.—Ç–∏–ø}`)
    if (prop.–ø–æ–¥—Ç–∏–ø) details.push(`–ü–æ–¥—Ç–∏–ø: ${prop.–ø–æ–¥—Ç–∏–ø}`)
    if (prop.–ø–ª–æ—â–∞–¥—å) details.push(`–ü–ª–æ—â–∞–¥—å: ${prop.–ø–ª–æ—â–∞–¥—å} –∫–≤.–º`)
    if (prop.—Ü–µ–Ω–∞) details.push(`–¶–µ–Ω–∞: ${Number(prop.—Ü–µ–Ω–∞).toLocaleString('ru-RU')} —Ä—É–±`)
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è

    return `${index + 1}. ${details.join(', ')}`
  }).join('\n')

  // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
  const totalPrice = properties.reduce((sum, prop) => sum + Number(prop.—Ü–µ–Ω–∞ || 0), 0)
  const avgPrice = totalPrice / properties.length
  const totalArea = properties.reduce((sum, prop) => sum + Number(prop.–ø–ª–æ—â–∞–¥—å || 0), 0)
  const avgArea = totalArea / properties.length

  return `üìä –î–ê–ù–ù–´–ï –ò–ó CSV –§–ê–ô–õ–ê (${properties.length} –æ–±—ä–µ–∫—Ç–æ–≤):

${formatted}

üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê:
‚Ä¢ –°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞: ${avgPrice.toLocaleString('ru-RU')} —Ä—É–±
‚Ä¢ –°—Ä–µ–¥–Ω—è—è –ø–ª–æ—â–∞–¥—å: ${avgArea.toFixed(1)} –∫–≤.–º
‚Ä¢ –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: ${totalPrice.toLocaleString('ru-RU')} —Ä—É–±

–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö: /Users/holfizz/Developer/fromcity/data.csv`
}
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –≤ OpenAI

–î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏:

```
–ü–†–ê–í–ò–õ–ê –†–ê–ë–û–¢–´ –° –î–ê–ù–ù–´–ú–ò:
‚Ä¢ –ù–µ –≤—ã–¥—É–º—ã–≤–∞–π —Ü–∏—Ñ—Ä—ã. –ò—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚Ä¢ –í—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–π –õ–û–ì–ò–ö–£: –æ–±—ä—è—Å–Ω—è–π, –∫–∞–∫ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞–ª –¥–∞–Ω–Ω—ã–µ
‚Ä¢ –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —É–∫–∞–∑—ã–≤–∞–π –∏—Å—Ç–æ—á–Ω–∏–∫–∏

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï –î–õ–Ø TELEGRAM (Markdown):
‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π *—Ç–µ–∫—Å—Ç* –¥–ª—è –∫—É—Ä—Å–∏–≤–∞
‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π **—Ç–µ–∫—Å—Ç** –¥–ª—è –∂–∏—Ä–Ω–æ–≥–æ
‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π [—Ç–µ–∫—Å—Ç](URL) –¥–ª—è —Å—Å—ã–ª–æ–∫
‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π —ç–º–æ–¥–∑–∏: üìä üí∞ üè¢ üìç ‚úÖ ‚ùå üîç

–ü–†–ê–í–ò–õ–¨–ù–´–ô –ø—Ä–∏–º–µ—Ä:

üìä **–ê–ù–ê–õ–ò–ó –î–ê–ù–ù–´–•**

–ù–∞–π–¥–µ–Ω–æ 5 –æ–±—ä–µ–∫—Ç–æ–≤:
‚Ä¢ –ö–≤–∞—Ä—Ç–∏—Ä–∞ 50 –∫–≤.–º - 5 –º–ª–Ω —Ä—É–±
‚Ä¢ –ö–≤–∞—Ä—Ç–∏—Ä–∞ 60 –∫–≤.–º - 6 –º–ª–Ω —Ä—É–±

üí∞ **–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞:** 5.5 –º–ª–Ω —Ä—É–±

–ò—Å—Ç–æ—á–Ω–∏–∫: [formcity.ru](https://formcity.ru)
```

### 3. –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –∫–æ–Ω–µ—Ü —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞:

```typescript
${context ? `\n–ö–û–ù–¢–ï–ö–°–¢ –î–ê–ù–ù–´–•:\n${context}` : ''}
```

## –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

### –ó–∞–ø—Ä–æ—Å: "–ü–æ–∫–∞–∂–∏ –∫–≤–∞—Ä—Ç–∏—Ä—ã 2 –∫–æ–º–Ω–∞—Ç—ã"

**–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è AI:**

```
üìä –î–ê–ù–ù–´–ï –ò–ó CSV –§–ê–ô–õ–ê (3 –æ–±—ä–µ–∫—Ç–æ–≤):

1. –¢–∏–ø: –ö–≤–∞—Ä—Ç–∏—Ä–∞, –ü–æ–¥—Ç–∏–ø: 2-–∫–æ–º–Ω–∞—Ç–Ω–∞—è, –ü–ª–æ—â–∞–¥—å: 65 –∫–≤.–º, –¶–µ–Ω–∞: 5,200,000 —Ä—É–±, –≠—Ç–∞–∂: 5, –ö–æ–º–Ω–∞—Ç: 2, –û—á–µ—Ä–µ–¥—å: 1 –æ—á–µ—Ä–µ–¥—å, –°—Ç–∞—Ç—É—Å: –î–æ—Å—Ç—É–ø–Ω–∞
2. –¢–∏–ø: –ö–≤–∞—Ä—Ç–∏—Ä–∞, –ü–æ–¥—Ç–∏–ø: 2-–∫–æ–º–Ω–∞—Ç–Ω–∞—è, –ü–ª–æ—â–∞–¥—å: 72 –∫–≤.–º, –¶–µ–Ω–∞: 5,800,000 —Ä—É–±, –≠—Ç–∞–∂: 8, –ö–æ–º–Ω–∞—Ç: 2, –û—á–µ—Ä–µ–¥—å: 2 –æ—á–µ—Ä–µ–¥—å, –°—Ç–∞—Ç—É—Å: –î–æ—Å—Ç—É–ø–Ω–∞
3. –¢–∏–ø: –ö–≤–∞—Ä—Ç–∏—Ä–∞, –ü–æ–¥—Ç–∏–ø: 2-–∫–æ–º–Ω–∞—Ç–Ω–∞—è, –ü–ª–æ—â–∞–¥—å: 58 –∫–≤.–º, –¶–µ–Ω–∞: 4,800,000 —Ä—É–±, –≠—Ç–∞–∂: 4, –ö–æ–º–Ω–∞—Ç: 2, –û—á–µ—Ä–µ–¥—å: 1 –æ—á–µ—Ä–µ–¥—å, –°—Ç–∞—Ç—É—Å: –î–æ—Å—Ç—É–ø–Ω–∞

üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê:
‚Ä¢ –°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞: 5,266,667 —Ä—É–±
‚Ä¢ –°—Ä–µ–¥–Ω—è—è –ø–ª–æ—â–∞–¥—å: 65.0 –∫–≤.–º
‚Ä¢ –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: 15,800,000 —Ä—É–±

–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö: /Users/holfizz/Developer/fromcity/data.csv
```

**–û—Ç–≤–µ—Ç AI:**

```
üìä **–ê–ù–ê–õ–ò–ó 2-–ö–û–ú–ù–ê–¢–ù–´–• –ö–í–ê–†–¢–ò–†**

–ù–∞–π–¥–µ–Ω–æ 3 –æ–±—ä–µ–∫—Ç–∞:
‚Ä¢ 65 –∫–≤.–º - 5.2 –º–ª–Ω —Ä—É–± (5 —ç—Ç–∞–∂, 1 –æ—á–µ—Ä–µ–¥—å)
‚Ä¢ 72 –∫–≤.–º - 5.8 –º–ª–Ω —Ä—É–± (8 —ç—Ç–∞–∂, 2 –æ—á–µ—Ä–µ–¥—å)
‚Ä¢ 58 –∫–≤.–º - 4.8 –º–ª–Ω —Ä—É–± (4 —ç—Ç–∞–∂, 1 –æ—á–µ—Ä–µ–¥—å)

üí∞ **–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞:** 5.27 –º–ª–Ω —Ä—É–±
üìê **–°—Ä–µ–¥–Ω—è—è –ø–ª–æ—â–∞–¥—å:** 65 –∫–≤.–º

‚úÖ –í—Å–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã –≤ —Å—Ç–∞—Ç—É—Å–µ "–î–æ—Å—Ç—É–ø–Ω–∞"
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `test-data-loading.js` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

## –°—Ç–∞—Ç—É—Å

‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ** - AI —Ç–µ–ø–µ—Ä—å –ø–æ–ª—É—á–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ CSV –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Ö –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç
